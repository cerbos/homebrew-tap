# This file was generated by GoReleaser. DO NOT EDIT.
cask "cerbos" do
  name "cerbos"
  desc "Cerbos is the open core, language-agnostic, scalable authorization solution that makes user permissions and authorization simple to implement and manage by writing context-aware access control policies for your application resources."
  homepage "https://cerbos.dev"
  version "0.51.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "cerbos"

  on_macos do
    on_intel do
      url "https://github.com/cerbos/cerbos/releases/download/v#{version}/cerbos_#{version}_Darwin_x86_64.tar.gz",
        verified: "github.com/cerbos/homebrew-tap"
      sha256 "db023e96975f8174417ad8afeabe20efff7cc70d4e31a254cfbbd207e2d9377b"
    end
    on_arm do
      url "https://github.com/cerbos/cerbos/releases/download/v#{version}/cerbos_#{version}_Darwin_arm64.tar.gz",
        verified: "github.com/cerbos/homebrew-tap"
      sha256 "0751e62672bddde147e81cf721320d51eb0920c3b2fd820c2af007c578f9d56e"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/cerbos/cerbos/releases/download/v#{version}/cerbos_#{version}_Linux_x86_64.tar.gz",
        verified: "github.com/cerbos/homebrew-tap"
      sha256 "b95b7512c7825986b0711aa24320f7ae2e7c004e7d0db01ae7a36075e97ec81d"
    end
    on_arm do
      url "https://github.com/cerbos/cerbos/releases/download/v#{version}/cerbos_#{version}_Linux_arm64.tar.gz",
        verified: "github.com/cerbos/homebrew-tap"
      sha256 "16059ca769894670ae54b3cf5fb32519df00758d9b8249127734ceb1708d53ff"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/cerbos"]
    end
  end

  # No zap stanza required
end
